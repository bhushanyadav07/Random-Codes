<?php

function isWithinWindow($startDateString) {
  // Convert start date string to DateTime object
  $startDate = DateTime::createFromFormat('Y-m-d', $startDateString);

  // Get today's date
  $today = new DateTime();

  // Create a DateTime object for next month's 22nd day (adjusted for wrapping around year)
  $nextMonth = (int)$startDate->format('m') + 1; // Get next month number
  $endYear = $startDate->format('Y') + ($nextMonth < (int)$startDate->format('m'));  // Adjust year if wrapping
  $endDate = new DateTime("$endYear-$nextMonth-22");

  // Check if today's date is within the window
  return ($startDate <= $today) && ($today <= $endDate);
}

// Example usage
$startDate = "2024-06-20";

if (isWithinWindow($startDate)) {
  echo "1";
} else {
  echo "0";
}

?>
